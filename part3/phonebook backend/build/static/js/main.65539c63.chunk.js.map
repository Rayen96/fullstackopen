{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","filterString","handleFilterStringChange","react_default","a","createElement","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","name","number","id","handleDelete","onClick","Persons","_ref2","persons","numbersToShow","filter","person","toLowerCase","includes","map","Persons_Person","key","baseUrl","services_persons","axios","get","then","response","data","newObject","post","delete","concat","put","Notification","message","notificationType","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilterString","_useState9","_useState10","notification","setNotification","_useState11","_useState12","setNotificationtype","useEffect","personService","initialPersons","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","window","confirm","person1","find","n","changedPerson","objectSpread","returnedPerson","setTimeout","catch","error","components_Persons","x","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.65539c63.chunk.js","sourcesContent":["import React from 'react'\r\nconst Filter = ({filterString, handleFilterStringChange}) => (\r\n    <form>\r\n        <div>\r\n            filter shown with <input\r\n                value={filterString}\r\n                onChange={handleFilterStringChange} />\r\n        </div>\r\n    </form>\r\n)\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => (\r\n    <form onSubmit={addPerson}>\r\n        <div>\r\n            name: <input\r\n                value={newName}\r\n                onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n            number: <input\r\n                value={newNumber}\r\n                onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\n\r\n\r\nconst Person = ({ name, number, id,handleDelete }) => (\r\n    <div>\r\n        {name} {number} <button onClick={handleDelete(id)}>delete</button>\r\n    </div>\r\n)\r\nconst Persons = ({persons, filterString, handleDelete}) => {\r\n    const numbersToShow = persons.filter(person =>\r\n        person.name.toLowerCase().includes(filterString.toLowerCase())\r\n    )\r\n    const rows = () => (\r\n        numbersToShow.map(person =>\r\n            <Person\r\n                name={person.name}\r\n                number={person.number}\r\n                key={person.name}\r\n                handleDelete={handleDelete}\r\n                id={person.id}\r\n            />\r\n        )\r\n    )\r\n\r\n    return (<div>{rows()}</div>)\r\n\r\n}\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst deletePerson = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nexport default { getAll, create, deletePerson, update };\r\n","import React from 'react';\r\n\r\nconst Notification = ( {message, notificationType} ) => {\r\n  if (message === null) {\r\n      return null;\r\n  }\r\n\r\n  const style = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom:10,\r\n  }\r\n\r\n  if (notificationType === 1) {\r\n    style.color = 'red'\r\n  }\r\n  return ( \r\n    <div style={style}>\r\n      {message}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react';\r\nimport Filter from './components/Filter';\r\nimport PersonForm from './components/PersonForm';\r\nimport Persons from './components/Persons';\r\nimport personService from './services/persons';\r\nimport Notification from './components/Notification';\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState('');\r\n  const [newNumber, setNewNumber] = useState('');\r\n  const [filterString, setFilterString] = useState('');\r\n  const [notification, setNotification] = useState(null);\r\n  const [notificationType, setNotificationtype] = useState(0)\r\n  \r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n      if (persons.map(person=>person.name).includes(newName)) {\r\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n          const person1 = persons.find(n => n.name === newName);\r\n          const changedPerson = { ...person1, number: newNumber };\r\n          \r\n          personService\r\n            .update(person1.id, changedPerson)\r\n            .then(returnedPerson => {\r\n              setPersons(persons.map(person => person.name !== newName ? person : returnedPerson))\r\n              setNotification(\r\n                `Changed ${newName}'s number`\r\n              );\r\n              setNotificationtype(0);\r\n              setTimeout(() => {\r\n                setNotification(null)\r\n              }, 5000);\r\n              \r\n              setNewName('');\r\n              setNewNumber('');\r\n            })\r\n            .catch(error => {\r\n              setNotification(\r\n                `Information of ${newName} has already been removed from server`\r\n              );\r\n              setNotificationtype(1);\r\n              setTimeout(() => {\r\n                setNotification(null)\r\n              }, 5000);\r\n              setNewName('');\r\n              setNewNumber('');\r\n              setPersons(persons.filter(n => n.name !== newName));\r\n            });\r\n          }\r\n      }\r\n      else {\r\n        const newObject = {\r\n          name: newName,\r\n          number: newNumber,\r\n        }\r\n\r\n        personService\r\n          .create(newObject)\r\n          .then(returnedPerson =>{\r\n            setPersons(persons.concat(returnedPerson));\r\n            setNotification(\r\n              `Added ${newName}'s number`\r\n            );\r\n            setNotificationtype(0);\r\n            setTimeout(() => {\r\n              setNotification(null)\r\n            }, 5000);\r\n            setNewName('');\r\n            setNewNumber('');\r\n          })\r\n          .catch(error => {\r\n            setNotification(\r\n              error.response.data.error\r\n            )\r\n            setNotificationtype(1);\r\n            setTimeout(() => {\r\n              setNotification(null)\r\n            }, 5000);\r\n            setNewName('');\r\n            setNewNumber('');\r\n          })\r\n      \r\n      }\r\n  }\r\n\r\n  const handleDelete = (id) => () => {\r\n    if (window.confirm(`Delete ${ persons.find(x => x.id === id).name }`)) {\r\n      personService\r\n        .deletePerson(id)\r\n        .then(setPersons(persons.filter(person=>person.id!==id)))\r\n    }\r\n  }\r\n  const handleFilterStringChange = (event) => \r\n    setFilterString(event.target.value)\r\n\r\n  const handleNameChange = (event) =>\r\n    setNewName(event.target.value)\r\n\r\n  const handleNumberChange = (event) =>\r\n    setNewNumber(event.target.value)\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notification} \r\n        notificationType={notificationType}\r\n      />\r\n      <Filter \r\n        filterString={filterString}\r\n        handleFilterStringChange={handleFilterStringChange}\r\n      />      \r\n      <h3>add a new</h3>\r\n      \r\n      <PersonForm\r\n        addPerson={addPerson}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons\r\n        persons={persons}\r\n        filterString={filterString}\r\n        handleDelete={handleDelete}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n)"],"sourceRoot":""}